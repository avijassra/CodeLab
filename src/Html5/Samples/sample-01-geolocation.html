<! DOCTYPE HTML>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Sample - Geolcation</title>
	</head>
	<body style="margin:0px; padding:0px;">
		<div id="map_canvas" style="width:100%; height:100%; float:left; border:1px solid black;" ></div>
		<section id="scriptsRef">
			<script  src="http://maps.google.com/maps/api/js?sensor=true" type="text/javascript"></script>
			<noscript>Your browser does not support JavaScript!</noscript>
			<script src="../lib/jquery-1.7.min.js"></script>	
			<noscript>Your browser does not support JavaScript!</noscript>
			<script>
			$(function() {
				var map = {},
				    gps, latLng, mapOpts, infoWin, mapDiv, marker;
					
				if (navigator.geolocation) {
				    function hasPosition(position) {
				        // google lat lng object
						var latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude),

						// my map options
                        mapOpts = {
                            zoom: 15,
                            center: latLng,
                            mapTypeId: google.maps.MapTypeId.ROADMAP
                        },

						// init google maps object
                        mapDiv = document.getElementById("map_canvas"),
                        map = new google.maps.Map(mapDiv, mapOpts),

						// marker for the map position
                        marker = new google.maps.Marker({
                            position: latLng,
                            map: map,
                            title: "You are here"
                        });
						
						// map more infor window
						infoWin = new google.maps.InfoWindow({
							map: map,
							position: latLng,
							content: "You were located using HTML geolocation API"
						});
				    }
				    navigator.geolocation.getCurrentPosition(hasPosition);
				} else {
				    alert("your browser does not support HTML5 geolocation api");
				}
			});
		</script>
		</section>
		
		
	</body>
</html>